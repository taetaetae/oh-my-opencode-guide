# 에이전트 시스템

<div class="highlight-box">
Oh-My-OpenCode의 에이전트는 각각 <strong>특정 분야의 전문가</strong> 역할을 합니다. 
마치 개발팀에서 각자의 역할을 수행하듯이, 11개의 에이전트가 협력하여 작업을 완수합니다.
</div>

## 🏗️ 에이전트 계층 구조

```
┌─────────────────────────────────────────────────────────────┐
│                    🎯 PRIMARY AGENTS                        │
│              (UI에서 선택한 모델 사용)                        │
├─────────────────────────────────────────────────────────────┤
│  Sisyphus     │ 메인 오케스트레이터, 작업 총괄               │
│  Atlas        │ 마스터 오케스트레이터, TODO 관리             │
│  Prometheus   │ 전략 기획자 (인터뷰 → 계획)                  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    🔧 SUBAGENTS                              │
│              (자체 모델 폴백 체인 사용)                       │
├─────────────────────────────────────────────────────────────┤
│  Hephaestus       │ 자율 심층 작업자                         │
│  Oracle           │ 전략 자문가 (읽기 전용)                  │
│  Librarian        │ 멀티 레포 연구, 문서, GitHub             │
│  Explore          │ 빠른 컨텍스트 검색                       │
│  Multimodal-Looker│ PDF/이미지 분석                         │
│  Metis            │ 사전 계획 갭 탐지                        │
│  Momus            │ 계획 검토자 (엄격한 검증)                │
│  Sisyphus-Junior  │ 카테고리 기반 작업 실행자                │
└─────────────────────────────────────────────────────────────┘
```

## 🌟 주요 에이전트 상세

### Sisyphus - 메인 오케스트레이터

> "샌프란시스코 베이 에어리어의 시니어 엔지니어"

| 항목 | 내용 |
|------|------|
| **역할** | 전체 작업 총괄, 다른 에이전트에게 위임 |
| **모델** | claude-opus-4-5 |
| **Thinking** | 32,000 토큰 |
| **비용** | 💰💰💰 |

**동작 방식**:
```
사용자 요청
    │
    ▼
┌─────────────────┐
│   Sisyphus      │
│   작업 분석     │
└────────┬────────┘
         │
    ┌────┴────┬────────┬────────┐
    ▼         ▼        ▼        ▼
Librarian  Explore  Oracle  Sisyphus-Junior
 (조사)    (탐색)   (상담)    (구현)
    │         │        │        │
    └────┬────┴────────┴────────┘
         │
         ▼
    결과 종합 및 완료
```

---

### Prometheus - 전략 기획자

> "인터뷰 기반 요구사항 수집 전문가"

| 항목 | 내용 |
|------|------|
| **역할** | 복잡한 작업의 계획 수립 |
| **모델** | claude-opus-4-5 |
| **진입 방법** | Tab 키 |
| **비용** | 💰💰💰 |

**인터뷰 예시**:
```
Prometheus: 어떤 작업을 도와드릴까요?
You: 결제 시스템을 추가하고 싶어요

Prometheus: 어떤 결제 수단을 지원할 예정인가요?
You: 신용카드와 PayPal이요

Prometheus: 정기 결제(구독)도 필요한가요?
You: 네, 월간 구독 기능이 필요해요

[상세 계획 생성]
→ /start-work 명령으로 실행
```

---

### Oracle - 전략 자문가

> "고비용, 고IQ 추론 전문가"

| 항목 | 내용 |
|------|------|
| **역할** | 아키텍처 설계, 복잡한 디버깅 |
| **모델** | gpt-5.2 |
| **특징** | **읽기 전용** (코드 수정 불가) |
| **비용** | 💰💰💰 |

::: warning Oracle 사용 시 주의
Oracle은 비용이 높습니다. 다음 상황에서만 사용하세요:
- 아키텍처 결정이 필요할 때
- 복잡한 버그를 디버깅할 때
- 설계 리뷰가 필요할 때
:::

**사용 예시**:
```
이 시스템의 확장성 문제를 분석해줘
→ Oracle이 코드베이스 분석
→ 병목 지점 식별
→ 개선 방안 제안 (직접 수정은 안 함)
```

---

### Librarian - 연구원

> "멀티 레포 분석, 문서 조회, OSS 구현 예제 전문가"

| 항목 | 내용 |
|------|------|
| **역할** | 외부 라이브러리, 문서, GitHub 검색 |
| **모델** | glm-4.7 |
| **MCP** | context7, grep_app |
| **비용** | 💰 |

**사용 예시**:
```
React Query v5의 새로운 API 사용법 알려줘
→ Librarian이 공식 문서 조회
→ GitHub에서 실제 사용 예제 검색
→ 종합된 가이드 제공
```

---

### Explore - 코드베이스 탐색가

> "빠른 컨텍스트 grep 전문가"

| 항목 | 내용 |
|------|------|
| **역할** | 코드베이스에서 패턴, 구현, 파일 위치 찾기 |
| **모델** | claude-haiku-4-5 |
| **특징** | 빠르고 저렴, 병렬 실행 가능 |
| **비용** | 무료 |

**사용 예시**:
```
인증 미들웨어가 어디에 있어?
→ Explore가 코드베이스 검색
→ 관련 파일 위치와 컨텍스트 제공
```

---

### Multimodal-Looker - 시각 분석가

> "PDF, 이미지, 다이어그램 분석 전문가"

| 항목 | 내용 |
|------|------|
| **역할** | 시각적 자료 분석 및 해석 |
| **모델** | gemini-3-flash |
| **비용** | 💰 |

**사용 예시**:
- 디자인 시안을 코드로 변환
- PDF 문서 내용 추출
- 에러 스크린샷 분석

---

## 📊 에이전트 비용 및 모델 요약

| 에이전트 | 모델 | 비용 | 용도 |
|----------|------|------|------|
| Sisyphus | claude-opus-4-5 | 💰💰💰 | 메인 오케스트레이터 |
| Hephaestus | gpt-5.2-codex | 💰💰💰 | 자율 심층 작업 |
| Atlas | claude-sonnet-4-5 | 💰💰💰 | 마스터 오케스트레이터 |
| Oracle | gpt-5.2 | 💰💰💰 | 상담, 디버깅 |
| Prometheus | claude-opus-4-5 | 💰💰💰 | 전략 기획 |
| Metis | claude-opus-4-5 | 💰💰💰 | 사전 분석 |
| Momus | gpt-5.2 | 💰💰💰 | 계획 검증 |
| Librarian | glm-4.7 | 💰 | 문서, GitHub 검색 |
| Explore | claude-haiku-4-5 | 무료 | 빠른 코드 검색 |
| Multimodal-Looker | gemini-3-flash | 💰 | 이미지/PDF 분석 |

## 🔒 에이전트별 도구 제한

각 에이전트는 역할에 맞는 도구만 사용할 수 있습니다:

| 에이전트 | 제한된 도구 | 이유 |
|----------|-------------|------|
| Oracle | write, edit, task, delegate_task | 읽기 전용 상담 역할 |
| Librarian | write, edit, task, delegate_task | 조사 전용 역할 |
| Explore | write, edit, task, delegate_task | 탐색 전용 역할 |
| Multimodal-Looker | read만 허용 | 분석 전용 역할 |
| Sisyphus-Junior | task, delegate_task | 위임 불가 (실행만) |

## ⚙️ 에이전트 커스터마이징

### 모델 오버라이드

```jsonc
// .opencode/oh-my-opencode.json
{
  "agents": {
    "oracle": {
      "model": "openai/gpt-5.2",
      "temperature": 0.1
    },
    "explore": {
      "model": "anthropic/claude-haiku-4-5"
    }
  }
}
```

### 에이전트 비활성화

```jsonc
{
  "disabled_agents": ["multimodal-looker"]
}
```

## 💡 에이전트 활용 팁

::: tip 효과적인 사용법
1. **병렬 위임 활용**: 독립적인 작업은 여러 에이전트에게 동시에 위임
2. **적절한 에이전트 선택**: 작업 특성에 맞는 에이전트 사용
3. **Oracle은 신중하게**: 비용이 높으므로 정말 필요할 때만 사용
:::

::: danger 피해야 할 패턴
- ❌ 순차적 호출: 병렬로 처리할 수 있는 작업을 순차적으로 처리
- ❌ 과도한 Oracle 사용: 간단한 질문에 Oracle 사용
- ❌ 에이전트 자체 보고 맹신: 항상 결과를 검증
:::

## 📚 다음 단계

- [스킬 시스템](/guide/skills) - 에이전트에게 전문 지식 부여
- [설정 가이드](/guide/configuration) - 에이전트 커스터마이징 상세
